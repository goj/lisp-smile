#!/usr/bin/env smile
load "load-smile.scm"
load-smile "smile.smile"

define | translate
  setup-lexer [current-input-port] #f
  loop grande-lupe
    var parsed | parse
      unless | eqv? parsed EOF
        pretty-print parsed
        grande-lupe

if | null? | cdr | program-arguments
  translate
  with-input-from-file [cadr | program-arguments] translate
